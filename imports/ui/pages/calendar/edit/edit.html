<template name="calendar_edit">
  <div class="container">
    {{#with calendar}}
      <div class="page-header">
        <h1>edit {{title}}</h1>
      </div>

      <div class="row">
        <div class="col-md-4">
          <div id="accordion" role="tablist" aria-multiselectable="true">

            <div class="card">
              <div class="card-header" role="tab" id="headingEditCalendar">
                <h5 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseEditCalendar" aria-expanded="true" aria-controls="collapseEditCalendar">
                    Edit calendar
                  </a>
                </h5>
              </div>
              <div id="collapseEditCalendar" class="collapse" role="tabpanel" aria-labelledby="headingEditCalendar">
                <div class="card-block">
                  {{> calendar_edit_info_form}}
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" role="tab" id="headingEditBackground">
                <h5 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseEditBackground" aria-expanded="true" aria-controls="collapseEditBackground">
                    Edit background
                  </a>
                </h5>
              </div>
              <div id="collapseEditBackground" class="collapse" role="tabpanel" aria-labelledby="headingEditBackground">
                <div class="card-block">
                  {{> calendar_edit_background_form}}
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" role="tab" id="headingEditSize">
                <h5 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseEditSize" aria-expanded="true" aria-controls="collapseEditSize">
                    Edit size
                  </a>
                </h5>
              </div>
              <div id="collapseEditSize" class="collapse" role="tabpanel" aria-labelledby="headingEditSize">
                <div class="card-block">
                  {{> calendar_edit_size_form}}
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" role="tab" id="headingEditDoor">
                <h5 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseEditDoor" aria-expanded="true" aria-controls="collapseEditDoor">
                    Edit door {{selectedDoor.number}}
                  </a>
                </h5>
              </div>
              <div id="collapseEditDoor" class="collapse show" role="tabpanel" aria-labelledby="headingEditDoor">
                <div class="card-block">
                  {{#with selectedDoor}}
                    <form>
                      <div class="row">
                        <div class="col-lg">
                          <div class="form-group">
                            <label for="doorWidth">Width (px)</label>
                            <input type="number" name="width" class="form-control" id="doorWidth" placeholder="Set width" value="{{width}}" min="1">
                          </div>
                        </div>
                        <div class="col-lg">
                          <div class="form-group">
                            <label for="doorHeight">Height (px)</label>
                            <input type="number" name="height" class="form-control" id="doorHeight" placeholder="Set height" value="{{height}}" min="1">
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg">
                          <div class="form-group">
                            <label for="doorX">X (px)</label>
                            <input type="number" name="x" class="form-control" id="doorX" placeholder="Set x" value="{{width}}" min="1">
                          </div>
                        </div>
                        <div class="col-lg">
                          <div class="form-group">
                            <label for="doorY">Y (px)</label>
                            <input type="number" name="y" class="form-control" id="doorY" placeholder="Set y" value="{{height}}" min="1">
                          </div>
                        </div>
                      </div>
                    </form>
                  {{/with}}
                </div>
              </div>
            </div>

          </div>
        </div>


        <div class="col-md-8" style="height:{{height}}px;">
          <div style="position:relative">
            <div style="position:absolute">
              <img src="{{backgroundImage}}" width="{{width}}" height="{{height}}" class="door-background">
            </div>
            <div style="position:absolute" class="resize-container">
              {{#each doors}}   
                <div id="door{{number}}" class="door resize-drag"  data-door-number="{{number}}" style="position:absolute;left:{{x}}px;top:{{y}}px;width:{{width}}px;height:{{height}}px;border:2px solid;border-radius:5px;border-color:#{{text.color}}">
                  <p class="door-number" color="color:#{{text.color}};font-size:{{text.size}}pt">
                    {{number}}
                  </p>
                </div>
              {{/each}}
            </div>
          </div>
        </div>
      </div>

    {{/with}}
  </div>
</template>